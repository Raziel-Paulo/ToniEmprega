@* Views/Aluno/Candidatar.cshtml *@
@{
    ViewData["Title"] = "Candidatar-se";
    var oferta = ViewBag.Oferta as ToniEmprega.Models.Oferta;
}

<div style="max-width: 800px; margin: 0 auto;">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title"><i class="fas fa-file-signature"></i> Candidatura</h2>
        </div>

        <div style="background-color: var(--color-navy); padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
            <h3 style="color: var(--color-blue); margin-bottom: 0.5rem;">@oferta?.Titulo</h3>
            <p style="color: var(--color-gray); margin: 0;"><i class="fas fa-building"></i> @oferta?.Empresa?.Nome_Empresa</p>
        </div>

        <form method="post" asp-action="Candidatar" enctype="multipart/form-data">
            <input type="hidden" name="ofertaId" value="@oferta?.Id" />

            <div class="form-group">
                <label class="form-label"><i class="fas fa-comment"></i> Mensagem de Motivação</label>
                <textarea name="mensagem" class="form-control" rows="4" placeholder="Explica porque te candidatas a esta oferta..."></textarea>
            </div>

            <div class="form-group">
                <label class="form-label"><i class="fas fa-paperclip"></i> Anexar Ficheiros (CV, Carta de Apresentação)</label>
                <input type="file" name="ficheiros" class="form-control" multiple accept=".pdf,.doc,.docx" />
                <small style="color: var(--color-gray);">Podes anexar múltiplos ficheiros</small>
            </div>

            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button type="submit" class="btn btn-primary" style="flex: 1;">
                    <i class="fas fa-paper-plane"></i> Submeter Candidatura
                </button>
                <a href="/Ofertas" class="btn btn-outline">Cancelar</a>
            </div>
        </form>
    </div>
</div>